function resizePortfolioItems(){var t=$(".portfolio-item").get();for(i=0;t.length>i;i++){var e=$(t[i]),n=e.width(),o=e.data("bgoffset"),r=-o*n+"px 0";e.css({"background-position":r,height:n})}}function beforePrint(){$(".testimonials").cbpQTRotator("destroy")}function afterPrint(){$(".testimonials").cbpQTRotator("_init")}if(window.enquire=function(t){"use strict";function e(t,e){var n,i=0,o=t.length;for(i;o>i&&(n=e(t[i],i),n!==!1);i++);}function n(t){return"[object Array]"===Object.prototype.toString.apply(t)}function i(t){return"function"==typeof t}function o(t){this.options=t,!t.deferSetup&&this.setup()}function r(e,n){this.query=e,this.isUnconditional=n,this.handlers=[],this.mql=t(e);var i=this;this.listener=function(t){i.mql=t,i.assess()},this.mql.addListener(this.listener)}function s(){if(!t)throw Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!t("only all").matches}return o.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},r.prototype={addHandler:function(t){var e=new o(t);this.handlers.push(e),this.mql.matches&&e.on()},removeHandler:function(t){var n=this.handlers;e(n,function(e,i){return e.equals(t)?(e.destroy(),!n.splice(i,1)):void 0})},clear:function(){e(this.handlers,function(t){t.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.mql.matches||this.isUnconditional?"on":"off";e(this.handlers,function(e){e[t]()})}},s.prototype={register:function(t,o,s){var a=this.queries,c=s&&this.browserIsIncapable;return a[t]||(a[t]=new r(t,c)),i(o)&&(o={match:o}),n(o)||(o=[o]),e(o,function(e){a[t].addHandler(e)}),this},unregister:function(t,e){var n=this.queries[t];return n&&(e?n.removeHandler(e):(n.clear(),delete this.queries[t])),this}},new s}(window.matchMedia),function(t){var e=!1,n=!1,i={isUrl:function(t){var e=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return e.test(t)?!0:!1},loadContent:function(t,e){t.html(e)},addPrefix:function(t){var e=t.attr("id"),n=t.attr("class");"string"==typeof e&&""!==e&&t.attr("id",e.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof n&&""!==n&&"sidr-inner"!==n&&t.attr("class",n.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),t.removeAttr("style")},execute:function(i,r,s){"function"==typeof r?(s=r,r="sidr"):r||(r="sidr");var a,c,l,u=t("#"+r),d=t(u.data("body")),p=t("html"),f=u.outerWidth(!0),h=u.data("speed"),m=u.data("side");if("open"===i||"toogle"===i&&!u.is(":visible")){if(u.is(":visible")||e)return;if(n!==!1)return o.close(n,function(){o.open(r)}),void 0;e=!0,"left"===m?(a={left:f+"px"},c={left:"0px"}):(a={right:f+"px"},c={right:"0px"}),l=p.scrollTop(),p.css("overflow-x","hidden").scrollTop(l),d.css({width:d.width(),position:"absolute"}).animate(a,h),u.css("display","block").animate(c,h,function(){e=!1,n=r,"function"==typeof s&&s(r)})}else{if(!u.is(":visible")||e)return;e=!0,"left"===m?(a={left:0},c={left:"-"+f+"px"}):(a={right:0},c={right:"-"+f+"px"}),l=p.scrollTop(),p.removeAttr("style").scrollTop(l),d.animate(a,h),u.animate(c,h,function(){u.removeAttr("style"),d.removeAttr("style"),t("html").removeAttr("style"),e=!1,n=!1,"function"==typeof s&&s(r)})}}},o={open:function(t,e){i.execute("open",t,e)},close:function(t,e){i.execute("close",t,e)},toogle:function(t,e){i.execute("toogle",t,e)}};t.sidr=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof e&&"string"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.sidr"),void 0):o.toogle.apply(this,arguments)},t.fn.sidr=function(e){var n=t.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body"},e),r=n.name,s=t("#"+r);if(0===s.length&&(s=t("<div />").attr("id",r).appendTo(t("body"))),s.addClass("sidr").addClass(n.side).data({speed:n.speed,side:n.side,body:n.body}),"function"==typeof n.source){var a=n.source(r);i.loadContent(s,a)}else if("string"==typeof n.source&&i.isUrl(n.source))t.get(n.source,function(t){i.loadContent(s,t)});else if("string"==typeof n.source){var c="",l=n.source.split(",");if(t.each(l,function(e,n){c+='<div class="sidr-inner">'+t(n).html()+"</div>"}),n.renaming){var u=t("<div />").html(c);u.find("*").each(function(e,n){var o=t(n);i.addPrefix(o)}),c=u.html()}i.loadContent(s,c)}else null!==n.source&&t.error("Invalid Sidr Source");return this.each(function(){var e=t(this),n=e.data("sidr");n||(e.data("sidr",r),e.click(function(t){t.preventDefault(),o.toogle(r)}))})}}(jQuery),function(t){t.fn.touchwipe=function(e){var n={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return e&&t.extend(n,e),this.each(function(){function t(){this.removeEventListener("touchmove",e),o=null,s=!1}function e(e){if(n.preventDefaultEvents&&e.preventDefault(),s){var i=e.touches[0].pageX,a=e.touches[0].pageY,c=o-i,l=r-a;Math.abs(c)>=n.min_move_x?(t(),c>0?n.wipeLeft():n.wipeRight()):Math.abs(l)>=n.min_move_y&&(t(),l>0?n.wipeDown():n.wipeUp())}}function i(t){1==t.touches.length&&(o=t.touches[0].pageX,r=t.touches[0].pageY,s=!0,this.addEventListener("touchmove",e,!1))}var o,r,s=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",i,!1)}),this}}(jQuery),window.Modernizr=function(t,e,n){function i(t){y.cssText=t}function o(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var o=t[i];if(!r(o,"-")&&y[o]!==n)return"pfx"==e?o:!0}return!1}function a(t,e,i){for(var r in t){var s=e[t[r]];if(s!==n)return i===!1?t[r]:o(s,"function")?s.bind(i||e):s}return!1}function c(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+b.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?s(r,e):(r=(t+" "+$.join(i+" ")+i).split(" "),a(r,e,n))}var l,u,d,p="2.6.2",f={},h=!0,m=e.documentElement,g="modernizr",v=e.createElement(g),y=v.style,w=({}.toString,"Webkit Moz O ms"),b=w.split(" "),$=w.toLowerCase().split(" "),C={},x=[],T=x.slice,E={}.hasOwnProperty;d=o(E,"undefined")||o(E.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return E.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=T.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var r=new o,s=e.apply(r,n.concat(T.call(arguments)));return Object(s)===s?s:r}return e.apply(t,n.concat(T.call(arguments)))};return i}),C.csstransitions=function(){return c("transition")};for(var _ in C)d(C,_)&&(u=_.toLowerCase(),f[u]=C[_](),x.push((f[u]?"":"no-")+u));return f.addTest=function(t,e){if("object"==typeof t)for(var i in t)d(t,i)&&f.addTest(i,t[i]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,h!==void 0&&h&&(m.className+=" "+(e?"":"no-")+t),f[t]=e}return f},i(""),v=l=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=g[t[h]];return e||(e={},m++,t[h]=m,g[m]=e),e}function r(t,n,i){if(n||(n=e),u)return n.createElement(t);i||(i=o(n));var r;return r=i.cache[t]?i.cache[t].cloneNode():f.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),r.canHaveChildren&&!p.test(t)?i.frag.appendChild(r):r}function s(t,n){if(t||(t=e),u)return t.createDocumentFragment();n=n||o(t);for(var r=n.frag.cloneNode(),s=0,a=i(),c=a.length;c>s;s++)r.createElement(a[s]);return r}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return v.shivMethods?r(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function c(t){t||(t=e);var i=o(t);return v.shivCSS&&!l&&!i.hasCSS&&(i.hasCSS=!!n(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||a(t,i),t}var l,u,d=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",m=0,g={};(function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return t.cloneNode===void 0||t.createDocumentFragment===void 0||t.createElement===void 0}()}catch(n){l=!0,u=!0}})();var v={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:u,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:c,createElement:r,createDocumentFragment:s};t.html5=v,c(e)}(this,e),f._version=p,f._domPrefixes=$,f._cssomPrefixes=b,f.testProp=function(t){return s([t])},f.testAllProps=c,m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+x.join(" "):""),f}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==g.call(t)}function o(t){return"string"==typeof t}function r(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?h(function(){("c"==t.t?p.injectCss:p.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function c(t,n,i,o,r,c,l){function u(e){if(!f&&s(d.readyState)&&(w.r=f=1,!y&&a(),d.onload=d.onreadystatechange=null,e)){"img"!=t&&h(function(){$.removeChild(d)},50);for(var i in _[n])_[n].hasOwnProperty(i)&&_[n][i].onload()}}var l=l||p.errorTimeout,d=e.createElement(t),f=0,g=0,w={t:i,s:n,e:r,a:c,x:l};1===_[n]&&(g=1,_[n]=[]),"object"==t?d.data=n:(d.src=n,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,g)},v.splice(o,0,w),"img"!=t&&(g||2===_[n]?($.insertBefore(d,b?null:m),h(u,l)):_[n].push(d))}function l(t,e,n,i,r){return y=0,e=e||"j",o(t)?c("c"==e?x:C,t,e,this.i++,n,i,r):(v.splice(this.i++,0,t),1==v.length&&a()),this}function u(){var t=p;return t.loader={load:l,i:0},t}var d,p,f=e.documentElement,h=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,w="MozAppearance"in f.style,b=w&&!!e.createRange().compareNode,$=b?f:m.parentNode,f=t.opera&&"[object Opera]"==g.call(t.opera),f=!!e.attachEvent&&!f,C=w?"object":f?"script":"img",x=f?"script":C,T=Array.isArray||function(t){return"[object Array]"==g.call(t)},E=[],_={},L={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};p=function(t){function e(t){var e,n,i,t=t.split("!"),o=E.length,r=t.pop(),s=t.length,r={url:r,origUrl:r,prefixes:t};for(n=0;s>n;n++)i=t[n].split("="),(e=L[i.shift()])&&(r=e(r,i));for(n=0;o>n;n++)r=E[n](r);return r}function s(t,o,r,s,a){var c=e(t),l=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(o&&(o=i(o)?o:o[t]||o[s]||o[t.split("/").pop().split("?")[0]]),c.instead?c.instead(t,o,r,s,a):(_[c.url]?c.noexec=!0:_[c.url]=1,r.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(i(o)||i(l))&&r.load(function(){u(),o&&o(c.origUrl,a,s),l&&l(c.origUrl,a,s),_[c.url]=2})))}function a(t,e){function n(t,n){if(t){if(o(t))n||(d=function(){var t=[].slice.call(arguments);p.apply(this,t),f()}),s(t,d,e,0,l);else if(Object(t)===t)for(c in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(c)&&(!n&&!--a&&(i(d)?d=function(){var t=[].slice.call(arguments);p.apply(this,t),f()}:d[c]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),f()}}(p[c])),s(t[c],d,e,c,l))}else!n&&f()}var a,c,l=!!t.test,u=t.load||t.both,d=t.callback||r,p=d,f=t.complete||r;n(l?t.yep:t.nope,!!u),u&&n(u)}var c,l,d=this.yepnope.loader;if(o(t))s(t,0,d,0);else if(T(t))for(c=0;t.length>c;c++)l=t[c],o(l)?s(l,0,d,0):T(l)?p(l):Object(l)===l&&a(l,d);else Object(t)===t&&a(t,d)},p.addPrefix=function(t,e){L[t]=e},p.addFilter=function(t){E.push(t)},p.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,i,o,c,l){var u,d,f=e.createElement("script"),o=o||p.errorTimeout;f.src=t;for(d in i)f.setAttribute(d,i[d]);n=l?a:n||r,f.onreadystatechange=f.onload=function(){!u&&s(f.readyState)&&(u=1,n(),f.onload=f.onreadystatechange=null)},h(function(){u||(u=1,n(1))},o),c?f.onload():m.parentNode.insertBefore(f,m)},t.yepnope.injectCss=function(t,n,i,o,s,c){var l,o=e.createElement("link"),n=c?a:n||r;o.href=t,o.rel="stylesheet",o.type="text/css";for(l in i)o.setAttribute(l,i[l]);s||(m.parentNode.insertBefore(o,m),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t,e){"use strict";var n=e.Modernizr;t.CBPQTRotator=function(e,n){this.$el=t(n),this._init(e)},t.CBPQTRotator.defaults={speed:700,easing:"ease",interval:8e3},t.CBPQTRotator.prototype={_init:function(e){this.options=t.extend(!0,{},t.CBPQTRotator.defaults,e),this._config(),this.$items.eq(this.current).addClass("current"),this.support&&this._setTransition(),this._startRotator()},_config:function(){this.$items=this.$el.children(".testimonial"),this.itemsCount=this.$items.length,this.current=0,this.support=n.csstransitions,this.support&&(this.$progress=t('<span class="progress"></span>').appendTo(this.$el))},_setTransition:function(){setTimeout(t.proxy(function(){this.$items.css("transition","all "+this.options.speed+"ms "+this.options.easing)},this),25)},_startRotator:function(){this.support&&this._startProgress(),setTimeout(t.proxy(function(){this.support&&this._resetProgress(),this._next(),this._startRotator()},this),this.options.interval)},_next:function(){this.$items.eq(this.current).removeClass("current"),this.current=this.current<this.itemsCount-1?this.current+1:0,this.$items.eq(this.current).addClass("current")},_startProgress:function(){setTimeout(t.proxy(function(){this.$progress.css({transition:"width "+this.options.interval+"ms linear",width:"100%"})},this),25)},_resetProgress:function(){this.$progress.css({transition:"none",width:"0%"})},destroy:function(){this.support&&(this.$items.css("transition","none"),this.$progress.remove()),this.$items.removeClass("current").css({position:"relative","z-index":100,"pointer-events":"auto",opacity:1})}};var i=function(t){e.console&&e.console.error(t)};t.fn.cbpQTRotator=function(e){if("string"==typeof e){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var o=t.data(this,"cbpQTRotator");return o?t.isFunction(o[e])&&"_"!==e.charAt(0)?(o[e].apply(o,n),undefined):(i("no such method '"+e+"' for cbpQTRotator instance"),undefined):(i("cannot call methods on cbpQTRotator prior to initialization; attempted to call method '"+e+"'"),undefined)})}else this.each(function(){var n=t.data(this,"cbpQTRotator");n?n._init():n=t.data(this,"cbpQTRotator",new t.CBPQTRotator(e,this))});return this}}(jQuery,window),$("document").ready(function(){function t(t,e,n,i){var r=new google.maps.Marker({map:o,position:new google.maps.LatLng(t,e),title:n||""});return r.setIcon(i),r}function e(){n=o.getCenter()}resizePortfolioItems(),$(window).resize(function(){resizePortfolioItems()}),$(".testimonials").cbpQTRotator(),$(".toggle-menu").sidr({name:"sidr-right",side:"right",source:"#menu-content"}),$(".sidr a").bind("click",function(){$.sidr("close","sidr-right")}),enquire.register("screen and (min-width:980px)",{match:function(){$.sidr("close","sidr-right")}}),$(".year").html((new Date).getFullYear()),$(".carousel").carousel(),$(".carousel").touchwipe({wipeLeft:function(){$(".carousel").carousel("next")},wipeRight:function(){$(".carousel").carousel("prev")}});var n,i=$(".map-container"),o=new google.maps.Map(i[0],{zoom:15,disableDefaultUI:!0,disableDoubleClickZoom:!0,draggable:!1,keyboardShortcuts:!1,scrollwheel:!1,center:new google.maps.LatLng(39.917774,116.453311),mapTypeId:google.maps.MapTypeId.ROADMAP});if(google.maps.event.addDomListener(o,"idle",function(){e()}),google.maps.event.addDomListener(window,"resize",function(){o.setCenter(n)}),!s){if(s=t(39.917815,116.453311,"Us!","http://maps.google.com/mapfiles/ms/icons/red-dot.png"),navigator.geolocation){var r,s=null;navigator.geolocation.getCurrentPosition(function(t){if(!r&&!s){var e={origin:new google.maps.LatLng(t.coords.latitude,t.coords.longitude),destination:new google.maps.LatLng(39.917815,116.453311),travelMode:google.maps.DirectionsTravelMode.DRIVING},n=new google.maps.DirectionsService,i=new google.maps.DirectionsRenderer;i.setMap(o),n.route(e,function(t,e){e==google.maps.DirectionsStatus.OK&&i.setDirections(t)})}})}$("#backtotop").click(function(){$("html, body").animate({scrollTop:"0px"},800)}),$(".menu a").click(function(){var t=$(this).attr("href"),e=$(t).offset().top;$("html, body").animate({scrollTop:e},800)}),$(window).scroll(function(){$(this).scrollTop()>150?$("#backtotop").addClass("shown"):$("#backtotop").removeClass("shown")})}}),window.addEventListener("load",function(){window.applicationCache.addEventListener("updateready",function(){window.applicationCache.status==window.applicationCache.UPDATEREADY&&(window.applicationCache.swapCache(),window.location.reload())},!1)},!1),window.matchMedia){var mediaQueryList=window.matchMedia("print");mediaQueryList.addListener(function(t){t.matches?beforePrint():afterPrint()})}window.onbeforeprint=beforePrint,window.onafterprint=afterPrint;